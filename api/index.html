<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=author content="Michael duPont"><link href=https://support.avwx.rest/api/ rel=canonical><link rel="shortcut icon" href=../img/favicon.ico><title>API Usage - AVWX Support</title><link href=../css/bootstrap.min.css rel=stylesheet><link href=../css/font-awesome.min.css rel=stylesheet><link href=../css/base.css rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/color-brewer.min.css><script src=../js/jquery-1.10.2.min.js defer></script><script src=../js/bootstrap.min.js defer></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script></head> <body> <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary"> <div class=container> <a class=navbar-brand href=..>AVWX Support</a> <button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-collapse> <span class=navbar-toggler-icon></span> </button> <div id=navbar-collapse class="navbar-collapse collapse"> <ul class="nav navbar-nav"> <li class="dropdown active"> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>API <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=./ class="dropdown-item active">API Usage</a> </li> <li> <a href=../token/ class=dropdown-item>Token</a> </li> <li> <a href=../http_codes/ class=dropdown-item>HTTP Codes</a> </li> <li> <a href=../data/ class=dropdown-item>Data Sources</a> </li> </ul> </li> <li class=dropdown> <a href=# class="nav-link dropdown-toggle" data-toggle=dropdown>Account <b class=caret></b></a> <ul class=dropdown-menu> <li> <a href=../tiers/ class=dropdown-item>Feature Tiers</a> </li> <li> <a href=../payment/ class=dropdown-item>Payment Processing</a> </li> </ul> </li> </ul> <ul class="nav navbar-nav ml-auto"> <li class=nav-item> <a href=# class=nav-link data-toggle=modal data-target=#mkdocs_search_modal> <i class="fa fa-search"></i> Search </a> </li> <li class=nav-item> <a rel=prev class="nav-link disabled"> <i class="fa fa-arrow-left"></i> Previous </a> </li> <li class=nav-item> <a rel=next href=../token/ class=nav-link> Next <i class="fa fa-arrow-right"></i> </a> </li> <li class=nav-item> <a href=https://github.com/avwx-rest/api-support-site/edit/master/docs/api.md class=nav-link><i class="fa fa-github"></i> Edit on GitHub</a> </li> </ul> </div> </div> </div> <div class=container> <div class=row> <div class=col-md-3><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role=complementary> <div class=navbar-header> <button type=button class="navbar-toggler collapsed" data-toggle=collapse data-target=#toc-collapse title="Table of Contents"> <span class="fa fa-angle-down"></span> </button> </div> <div id=toc-collapse class="navbar-collapse collapse card bg-secondary"> <ul class="nav flex-column"> <li class=nav-item data-level=1><a href=#api-usage class=nav-link>API Usage</a> <ul class="nav flex-column"> <li class=nav-item data-level=2><a href=#search class=nav-link>Search</a> <ul class="nav flex-column"> </ul> </li> <li class=nav-item data-level=2><a href=#common-gotchas class=nav-link>Common Gotchas</a> <ul class="nav flex-column"> </ul> </li> </ul> </li> </ul> </div> </div></div> <div class=col-md-9 role=main> <h1 id=api-usage>API Usage</h1> <h2 id=search>Search</h2> <h3 id=coordinates>Coordinates</h3> <p>When using coordinates instead of an ICAO code, the API will search for the nearest airport known to submit reports to the data source. </p> <p>There are times you may want to override these defaults. For example, setting <code>airport=false</code> will include independent weather stations like those out at sea. This could be useful to find the absolute closest weather observation, not just those useful for airport operations.</p> <p>You may also wish to include non-reporting stations to a station search by setting <code>reporting=false</code> in the URL. This will include all airports which may be desired for routing purposes.</p> <h3 id=nearest>Nearest</h3> <p>When using the nearest endpoints, the results are sorted by great circle distance with the closest stations appearing first. There are some limitations though. Internally, the search is performed using raw coordinate values on a (-180, 180) x (-90, 90) grid and iterated until the desired number of stations have been found matching the search criteria. This means:</p> <ul> <li>Coordinates searches will not cross the -180, 180 gap since they appear at either end of the naive grid .</li> <li>Searches near the poles start preferring longer latitude distances over shorter longitude distances.</li> </ul> <p>These shouldn't be an issue for the vast majority of users, and the final results will still be ordered by their true distances.</p> <h2 id=common-gotchas>Common Gotchas</h2> <h3 id=do-i-need-to-include-all-of-those-parameters>Do I need to include all of those parameters?</h3> <p>Not unless it overrides a default value. For example, calling <a href>https://avwx.rest/api/metar/KMCO</a> will work just fine if the API token is in the header.</p> <h3 id=why-is-my-report-out-of-date>Why is my report out of date?</h3> <p>AVWX uses a responsive short-term cache system for all report types. Normally, the cache is there to return the most recent report after non-24-hour stations and airports close for the night or if there is some short-term error with the report sources rather than returning an error response. Because of this, it's possible to receive a report that may be multiple days old as it represents the last time an AVWX user requested that specific report and one was available.</p> <p>My recommendation is to add some client-side logic to check for the recency of the report. However, you can override the default functionality and have AVWX return an error code when a current report is not available by caching the <code>onfail</code> URL parameter to <code>error</code>.</p></div> </div> </div> <footer class=col-md-12> <hr> <p>Copyright &copy; 2021 duPont Technologies LLC</p> <p>Documentation built with <a href=https://www.mkdocs.org/ >MkDocs</a>.</p> </footer> <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script> <script src=../js/base.js defer></script> <script src=../search/main.js defer></script> <div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true> <div class="modal-dialog modal-lg"> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=searchModalLabel>Search</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <p> From here you can search these documents. Enter your search terms below. </p> <form> <div class=form-group> <input type=search class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"> </div> </form> <div id=mkdocs-search-results></div> </div> <div class=modal-footer> </div> </div> </div> </div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4> <button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button> </div> <div class=modal-body> <table class=table> <thead> <tr> <th style="width: 20%;">Keys</th> <th>Action</th> </tr> </thead> <tbody> <tr> <td class="help shortcut"><kbd>?</kbd></td> <td>Open this help</td> </tr> <tr> <td class="next shortcut"><kbd>n</kbd></td> <td>Next page</td> </tr> <tr> <td class="prev shortcut"><kbd>p</kbd></td> <td>Previous page</td> </tr> <tr> <td class="search shortcut"><kbd>s</kbd></td> <td>Search</td> </tr> </tbody> </table> </div> <div class=modal-footer> </div> </div> </div> </div> </body> </html> 